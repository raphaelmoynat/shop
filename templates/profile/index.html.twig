{% extends 'base.html.twig' %}

{% block title %}Hello ProfileController!{% endblock %}

{% block body %}
    {% if app.user %}
        <div class="d-flex flex-column justify-content-center align-items-center">
            <div class="d-flex my-4 "><h3>Profil de {{ app.user.email }}</h3></div>
            <div class="d-flex align-items-center justify-content-center">
                <strong class="me-3">Your payment methods :</strong>
                <div class="d-flex flex-column me-3">
                    {% for paymentMethod in app.user.paymentMethods %}
                        <div>{{ paymentMethod.cardNumber }} <a href="{{ path("app_edit_paymentmethod", {id:paymentMethod.id}) }}" class="btn btn-warning" >E</a> <a href="{{ path("app_delete_paymentmethod", {id:paymentMethod.id}) }}" class="btn btn-danger" >X</a></div>
                    {% endfor %}
                </div>
                <a class="ms-3 btn btn-warning" href="{{ path("app_create_paymentmethod") }}">Add</a>
            </div>
            <div class="d-flex align-items-center justify-content-center mt-4">
                <strong class="me-3">Your addresses :</strong>
                <div class="d-flex flex-column me-3">
                    {% for address in app.user.addresses %}
                        <div>{{ address.streetNumber }} rue {{ address.street }}</div>
                        <div>{{ address.zipcode }} {{ address.city }}, {{ address.country }} <a href="{{ path("app_edit_address", {id:address.id}) }}" class="btn btn-warning" >E</a> <a href="{{ path("app_delete_address", {id:address.id}) }}" class="btn btn-danger" >X</a> </div>
                    {% endfor %}
                </div>
                <a class="ms-3 btn btn-warning" href="{{ path('app_address_create') }}">Add</a>
            </div>
        </div>

    {% endif %}
{% endblock %}
